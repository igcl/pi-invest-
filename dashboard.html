<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard | Invest+</title>
    
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body class="bg-light">

    <header class="dash-header">
        <div class="container dash-header-content">
            <div class="auth-logo">
                <div class="logo-icon"><i class="fa-solid fa-star"></i></div>
                <span class="logo-text">Invest<span>+</span></span>
            </div>
            <div class="dash-user-actions">
                <div class="level-badge">
                    <i class="fa-solid fa-trophy"></i> N√≠vel <span id="user-level-badge">1</span>
                </div>
                <a href="#" class="btn btn-outline btn-sm">Sair</a>
            </div>
        </div>
    </header>

    <div class="container dash-container">
        
        <div class="welcome-banner">
            <div class="welcome-left">
                <img src="https://cdn-icons-png.flaticon.com/512/847/847969.png" alt="Avatar" class="user-avatar">
                <div>
                    <h1>Ol√°, <span id="user-name">...</span> <span class="wave">üëã</span></h1>
                    <p>Continue sua jornada para o sucesso financeiro</p>
                </div>
            </div>
            <div class="welcome-right">
                <div class="level-info">
                    <span>Progresso do N√≠vel <span id="user-level">1</span></span>
                    <span id="user-xp-text">0 / 1000 XP</span>
                </div>
                <div class="progress-bar-bg">
                    <div class="progress-bar-fill" id="user-xp-bar" style="width: 0%;"></div>
                </div>
                
                <div class="banner-stat-box">
                    <i class="fa-solid fa-wallet"></i>
                    <span>Total Economizado: <strong id="header-total-saved">R$ 0,00</strong></span>
                </div>
            </div>
        </div>

        <nav class="dash-tabs">
            <button class="tab-btn active" onclick="openTab('overview')"><i class="fa-solid fa-house"></i> Vis√£o Geral</button>
            <button class="tab-btn" onclick="openTab('goals')"><i class="fa-solid fa-bullseye"></i> Metas</button>
            <button class="tab-btn" onclick="openTab('learn')"><i class="fa-solid fa-book-open"></i> Aprender</button>
            <button class="tab-btn" onclick="openTab('achievements')"><i class="fa-solid fa-medal"></i> Conquistas</button>
        </nav>

        <section id="tab-overview" class="tab-content active">
            
            <div class="stats-cards-grid">
                <div class="stat-card green">
                    <div class="stat-header">
                        <i class="fa-solid fa-wallet"></i>
                        <span class="chip">Total Geral</span>
                    </div>
                    <div class="stat-value" id="stat-saved">R$ 0,00</div>
                    <div class="stat-label">Economizado</div>
                </div>

                <div class="stat-card purple">
                    <div class="stat-header">
                        <i class="fa-solid fa-bullseye"></i>
                        <span class="chip">Progresso</span>
                    </div>
                    <div class="stat-value" id="stat-progress">0%</div>
                    <div class="stat-label">M√©dia das metas</div>
                </div>

                <div class="stat-card orange">
                    <div class="stat-header">
                        <i class="fa-solid fa-bolt"></i>
                        <span class="chip">Foco</span>
                    </div>
                    <div class="stat-value" id="stat-streak">0 dias</div>
                    <div class="stat-label">Sequ√™ncia atual</div>
                </div>
            </div>

            <h3 class="section-title">A√ß√µes R√°pidas</h3>
            <div class="quick-actions-grid">
                <div class="action-card">
                    <div class="action-icon text-purple"><i class="fa-solid fa-piggy-bank"></i></div>
                    <h4>Registrar Economia</h4>
                    <span class="xp-badge">+25 XP</span>
                </div>
                <div class="action-card">
                    <div class="action-icon text-blue"><i class="fa-solid fa-book"></i></div>
                    <h4>Continuar Li√ß√£o</h4>
                    <span class="xp-badge">+125 XP</span>
                </div>
                <div class="action-card">
                    <div class="action-icon text-green"><i class="fa-solid fa-bullseye"></i></div>
                    <h4>Nova Meta</h4>
                    <span class="xp-badge">+50 XP</span>
                </div>
                <div class="action-card">
                    <div class="action-icon text-orange"><i class="fa-solid fa-chart-line"></i></div>
                    <h4>Ver Progresso</h4>
                    <span class="xp-badge">An√°lises</span>
                </div>
            </div>

            <div class="section-header-row">
                <h3 class="section-title">Suas Metas</h3>
                <button class="btn-text" onclick="openTab('goals')">Ver todas</button>
            </div>
            
            <div class="goals-list" id="overview-goals-list">
                <div style="text-align: center; padding: 2rem; color: #94A3B8; background: white; border-radius: 1rem; border: 1px dashed #E2E8F0;">
                    <i class="fa-solid fa-clipboard-list" style="font-size: 2rem; margin-bottom: 1rem; opacity: 0.5;"></i>
                    <p>Voc√™ ainda n√£o criou nenhuma meta.</p>
                </div>
            </div>
        </section>

        <section id="tab-goals" class="tab-content">
            <div class="section-header-row mb-6">
                <div>
                    <h3 class="section-title mb-1">Suas Metas Financeiras</h3>
                    <p class="text-muted text-sm">Acompanhe seu progresso e conquiste seus objetivos</p>
                </div>
                <button class="btn btn-primary btn-sm"><i class="fa-solid fa-plus"></i> Nova Meta</button>
            </div>

            <div class="goals-grid" id="goals-container">
                <div style="grid-column: 1 / -1; text-align: center; padding: 4rem; background: white; border-radius: 1.5rem; border: 1px dashed #E2E8F0;">
                    <div style="width: 80px; height: 80px; background: #F1F5F9; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 1.5rem auto;">
                        <i class="fa-solid fa-bullseye" style="font-size: 2rem; color: #94A3B8;"></i>
                    </div>
                    <h4 style="font-weight: 700; color: #334155; margin-bottom: 0.5rem;">Nenhuma meta encontrada</h4>
                    <p style="color: #64748B; max-width: 300px; margin: 0 auto 1.5rem auto;">Defina um objetivo financeiro para come√ßar a rastrear seu progresso.</p>
                    <button class="btn btn-primary">Criar Nova Meta</button>
                </div>
            </div>
        </section>

        <section id="tab-learn" class="tab-content">
            <div class="mb-6">
                <h3 class="section-title mb-1">Educa√ß√£o Financeira</h3>
                <p class="text-muted text-sm">Complete li√ß√µes e ganhe XP para subir de n√≠vel</p>
            </div>

            <div class="learn-layout">
                <div class="lessons-list">
                    <div class="lesson-card">
                        <div class="lesson-icon" style="background: #EFF6FF; color: #3B82F6;"><i class="fa-solid fa-play"></i></div>
                        <div class="lesson-info">
                            <h4>O que √© Educa√ß√£o Financeira?</h4>
                            <div class="lesson-meta"><i class="fa-regular fa-clock"></i> 5 min <span class="xp">+50 XP</span></div>
                        </div>
                        <button class="btn btn-primary btn-sm">Come√ßar</button>
                    </div>
                    
                    <div class="lesson-card">
                        <div class="lesson-icon locked"><i class="fa-solid fa-lock"></i></div>
                        <div class="lesson-info">
                            <h4>Criando Seu Or√ßamento</h4>
                            <div class="lesson-meta"><i class="fa-regular fa-clock"></i> 8 min <span class="xp text-orange">+75 XP</span></div>
                        </div>
                        <span class="badge badge-gray text-xs">Bloqueado</span>
                    </div>
                </div>

                <div class="level-sidebar">
                    <div class="level-card-big">
                        <div class="level-icon"><i class="fa-solid fa-medal"></i></div>
                        <h2>N√≠vel <span id="sidebar-level">1</span></h2>
                        <p class="mb-4 text-white/80 text-sm" id="sidebar-xp">0 / 1000 XP</p>
                        <div class="progress-track bg-black/20"><div class="progress-fill bg-white" id="sidebar-xp-bar" style="width: 0%;"></div></div>
                    </div>

                    <div class="dash-card mt-4">
                        <h4 class="font-bold mb-4">Estat√≠sticas</h4>
                        <div class="stat-row flex justify-between mb-3 text-sm">
                            <span class="text-muted">Li√ß√µes completas</span>
                            <span class="font-bold">0/5</span>
                        </div>
                        <div class="stat-row flex justify-between mb-3 text-sm">
                            <span class="text-muted">Tempo total</span>
                            <span class="font-bold">0 min</span>
                        </div>
                        <div class="stat-row flex justify-between text-sm">
                            <span class="text-muted">XP ganho</span>
                            <span class="font-bold text-purple">0 XP</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="tab-achievements" class="tab-content">
            <div class="mb-6">
                <h3 class="section-title mb-1">Suas Conquistas</h3>
                <p class="text-muted text-sm">Desbloqueie conquistas conforme progride</p>
            </div>

            <div class="achievements-grid">
                <div class="achievement-card locked">
                    <div class="achieve-icon"><i class="fa-regular fa-star"></i></div>
                    <h4>Primeira Meta</h4>
                    <span class="badge badge-gray text-xs">Bloqueado</span>
                </div>
                
                <div class="achievement-card locked">
                    <div class="achieve-icon"><i class="fa-solid fa-piggy-bank"></i></div>
                    <h4>Economizador</h4>
                    <span class="badge badge-gray text-xs">Bloqueado</span>
                </div>

                <div class="achievement-card locked">
                    <div class="achieve-icon"><i class="fa-regular fa-calendar-check"></i></div>
                    <h4>5 Dias Seguidos</h4>
                    <span class="badge badge-gray text-xs">Bloqueado</span>
                </div>

                <div class="achievement-card locked">
                    <div class="achieve-icon"><i class="fa-solid fa-arrow-trend-up"></i></div>
                    <h4>Investidor Iniciante</h4>
                    <span class="badge badge-gray text-xs">Bloqueado</span>
                </div>
            </div>
        </section>

    </div>

    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    
    <script src="script.js"></script>
    <script>
        function openTab(tabName) {
            const contents = document.querySelectorAll('.tab-content');
            contents.forEach(content => content.classList.remove('active'));
            const buttons = document.querySelectorAll('.tab-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            
            document.getElementById('tab-' + tabName).classList.add('active');
            
            // Ativa o bot√£o corretamente
            const btn = document.querySelector(`button[onclick="openTab('${tabName}')"]`);
            if(btn) btn.classList.add('active');
        }
    </script>
</body>
</html>